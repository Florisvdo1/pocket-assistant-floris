<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#070707" />
  <title>OEVER.ART Voice, Audio Native + Agent</title>
  <style>
    :root{
      --bg:#070707;
      --panel:#0c0c0c;
      --panel2:#0f0f0f;
      --txt:#f6f4ee;
      --muted:#bdb8aa;
      --gold:#d4b46a;
      --gold2:#9b7a35;
      --line:rgba(212,180,106,.22);
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --radius: 20px;
      --pad: 18px;
      --max: 1120px;
      --tileMin: 320px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:
        radial-gradient(1200px 900px at 15% 10%, rgba(212,180,106,.14), transparent 55%),
        radial-gradient(1000px 700px at 85% 25%, rgba(212,180,106,.08), transparent 55%),
        linear-gradient(180deg, #070707 0%, #040404 100%);
      color:var(--txt);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      overflow-x:hidden;
    }

    /* Safe-area */
    .wrap{
      min-height: 100svh;
      padding: calc(18px + env(safe-area-inset-top)) calc(16px + env(safe-area-inset-right)) calc(18px + env(safe-area-inset-bottom)) calc(16px + env(safe-area-inset-left));
      display:flex;
      justify-content:center;
    }
    .shell{
      width: min(var(--max), 100%);
      display:flex;
      flex-direction:column;
      gap: 16px;
    }

    header{
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      border-radius: var(--radius);
      padding: 18px 18px 16px 18px;
      box-shadow: var(--shadow);
      position: relative;
      overflow:hidden;
    }
    header:before{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        linear-gradient(120deg, rgba(212,180,106,.20), transparent 35%),
        linear-gradient(240deg, rgba(212,180,106,.10), transparent 45%);
      opacity:.55;
      pointer-events:none;
      mask: linear-gradient(180deg, rgba(0,0,0,.95), rgba(0,0,0,.75));
    }
    .brand{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 14px;
      position:relative;
      z-index:1;
    }
    .brand h1{
      margin:0;
      font-size: 18px;
      letter-spacing: .16em;
      text-transform: uppercase;
    }
    .brand .sub{
      margin: 6px 0 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
      max-width: 70ch;
    }
    .ctaRow{
      display:flex;
      gap: 10px;
      align-items:center;
      flex-wrap:wrap;
      margin-top: 12px;
      position:relative;
      z-index:1;
    }
    .btn{
      appearance:none;
      border: 1px solid rgba(212,180,106,.35);
      background: linear-gradient(180deg, rgba(212,180,106,.16), rgba(212,180,106,.06));
      color: var(--txt);
      padding: 10px 12px;
      border-radius: 999px;
      font-weight: 600;
      letter-spacing: .02em;
      cursor:pointer;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.secondary{
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-weight: 600;
    }
    .note{
      font-size: 12px;
      color: var(--muted);
      margin: 0;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    /* Square tiles */
    .tile{
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      min-height: var(--tileMin);
    }
    .tile.square{
      aspect-ratio: 1 / 1;
      min-height: unset;
    }
    .tile .inner{
      height:100%;
      padding: var(--pad);
      display:flex;
      flex-direction:column;
      gap: 12px;
    }
    .tile h2{
      margin:0;
      font-size: 14px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: var(--txt);
    }
    .tile p{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      line-height:1.4;
    }
    .divider{
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(212,180,106,.35), transparent);
      opacity:.65;
    }

    /* Audio Native container */
    .audionativeBox{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.25);
      border-radius: 14px;
      padding: 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height: 120px;
    }
    #elevenlabs-audionative-widget{
      width:100%;
    }
    #elevenlabs-audionative-widget a{ color: var(--gold); text-decoration: none; }

    /* Agents widget container */
    .agentBox{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
      border-radius: 14px;
      padding: 14px;
      height: 100%;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .agentHint{
      font-size: 12px;
      color: var(--muted);
    }

    /* Footer */
    footer{
      color: rgba(245,242,235,.55);
      font-size: 12px;
      padding: 6px 2px 0 2px;
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
    }

    /* Orientation overlay */
    .overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.78);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 22px;
      z-index: 9999;
    }
    .overlay.show{ display:flex; }
    .overlayCard{
      width: min(520px, 100%);
      border: 1px solid rgba(212,180,106,.30);
      background: linear-gradient(180deg, rgba(20,20,20,.95), rgba(10,10,10,.92));
      border-radius: 18px;
      box-shadow: 0 30px 90px rgba(0,0,0,.65);
      padding: 18px;
    }
    .overlayCard h3{
      margin:0 0 8px 0;
      font-size: 14px;
      letter-spacing: .14em;
      text-transform: uppercase;
    }
    .overlayCard p{
      margin:0 0 14px 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.4;
    }
    .overlayRow{
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
    }

    /* Responsive: iPad/desktop get 2 columns, keeping square tiles */
    @media (min-width: 860px){
      .grid{
        grid-template-columns: 1fr 1fr;
      }
    }

    /* Prefer iPad landscape UX */
    @media (pointer: coarse){
      .tile h2{ font-size: 13px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="shell">
      <header>
        <div class="brand">
          <div>
            <h1>OEVER.ART</h1>
            <p class="sub">
              Audio Native (narration) plus ElevenLabs Agents (interactive voice). Mobile-first tiles, luxury black and gold.
            </p>
          </div>
        </div>

        <div class="ctaRow">
          <button class="btn" id="enterBtn" type="button">Enter full screen</button>
          <button class="btn secondary" id="lockBtn" type="button">Try orientation lock</button>
          <p class="note" id="statusNote"></p>
        </div>
      </header>

      <section class="grid" aria-label="Voice tiles">
        <article class="tile square">
          <div class="inner">
            <h2>Audio Native</h2>
            <p>Plays your Audio Native player. If it does not load on GitHub Pages, allowlist your domain in ElevenLabs Audio Native settings.</p>
            <div class="divider"></div>

            <div class="audionativeBox">
              <!-- Your provided embed snippet, kept intact -->
              <div
                id="elevenlabs-audionative-widget"
                data-height="90"
                data-width="100%"
                data-frameborder="no"
                data-scrolling="no"
                data-publicuserid="30cb26c1b3cae8d134c901db5803540a3b23471f2ce7731b1505ff95ad4148b1"
                data-playerurl="https://elevenlabs.io/player/index.html"
              >
                Loading the <a href="https://elevenlabs.io/text-to-speech" target="_blank" rel="noopener">Elevenlabs Text to Speech</a> AudioNative Player...
              </div>
            </div>

            <p class="note">Tip: Audio Native can narrate the page or play a linked project; allowlist matters.</p>
          </div>
        </article>

        <article class="tile square">
          <div class="inner">
            <h2>Voice Agent</h2>
            <p>This is the interactive widget. Paste your agent ID to make it live. Public agents with authentication disabled are required for widget embed.</p>
            <div class="divider"></div>

            <div class="agentBox">
              <div class="agentHint" id="agentHint">
                Replace YOUR_AGENT_ID below. Optional: set orb colors for your black and gold theme.
              </div>

              <!-- Agents widget embed (replace agent-id) -->
              <elevenlabs-convai
                agent-id="YOUR_AGENT_ID"
                variant="expanded"
                avatar-orb-color-1="#d4b46a"
                avatar-orb-color-2="#0a0a0a"
                action-text="Talk"
                start-call-text="Start"
                end-call-text="End"
                listening-text="Listening..."
                speaking-text="Speaking..."
              ></elevenlabs-convai>

              <p class="note">
                Volume boost: not reliably controllable from the host page. Use device volume, and unmute in the widget if available.
              </p>
            </div>
          </div>
        </article>
      </section>

      <footer>
        <span>Designed for GitHub Pages, single file.</span>
        <span id="envLine"></span>
      </footer>
    </div>
  </div>

  <!-- Orientation overlay -->
  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-label="Orientation hint">
    <div class="overlayCard">
      <h3 id="overlayTitle">Rotate device</h3>
      <p id="overlayText"></p>
      <div class="overlayRow">
        <button class="btn" id="overlayTryLock" type="button">Try lock now</button>
        <button class="btn secondary" id="overlayDismiss" type="button">Dismiss</button>
      </div>
    </div>
  </div>

  <!-- ElevenLabs scripts -->
  <script src="https://elevenlabs.io/player/audioNativeHelper.js" type="text/javascript"></script>
  <script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"></script>

  <script>
    (function(){
      const statusNote = document.getElementById('statusNote');
      const envLine = document.getElementById('envLine');

      const overlay = document.getElementById('overlay');
      const overlayTitle = document.getElementById('overlayTitle');
      const overlayText = document.getElementById('overlayText');

      const enterBtn = document.getElementById('enterBtn');
      const lockBtn = document.getElementById('lockBtn');
      const overlayTryLock = document.getElementById('overlayTryLock');
      const overlayDismiss = document.getElementById('overlayDismiss');

      const ua = navigator.userAgent || "";
      const isIpad = /iPad/.test(ua) || (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1);
      const isIOS = /iPhone|iPad|iPod/.test(ua) || isIpad;
      const isAndroid = /Android/.test(ua);

      envLine.textContent = (isIpad ? "iPad detected" : isIOS ? "iOS detected" : isAndroid ? "Android detected" : "Web detected");

      function orientation(){
        return (screen.orientation && screen.orientation.type) ? screen.orientation.type : (window.innerWidth > window.innerHeight ? "landscape" : "portrait");
      }

      function wantsLandscape(){
        return isIpad; // iPad: landscape only (your requirement)
      }

      function isWrongOrientation(){
        const o = orientation();
        if (wantsLandscape()) return !String(o).includes("landscape");
        return !String(o).includes("portrait");
      }

      function updateOverlay(){
        if (isWrongOrientation()){
          overlayTitle.textContent = wantsLandscape() ? "Rotate to landscape" : "Rotate to portrait";
          overlayText.textContent = wantsLandscape()
            ? "This page is optimized for iPad in landscape. Rotate your iPad; iOS may refuse orientation lock."
            : "This page is optimized for phones in portrait. Rotate your phone; some browsers allow lock after a tap.";
          overlay.classList.add('show');
        } else {
          overlay.classList.remove('show');
        }
      }

      async function tryLock(){
        // Best-effort only. iOS Safari commonly rejects.
        const target = wantsLandscape() ? "landscape" : "portrait";

        try{
          if (screen.orientation && screen.orientation.lock){
            await screen.orientation.lock(target);
            statusNote.textContent = "Orientation lock requested: " + target + ".";
          } else {
            statusNote.textContent = "Orientation lock not supported by this browser.";
          }
        } catch(e){
          statusNote.textContent = "Orientation lock refused by browser.";
        } finally {
          updateOverlay();
        }
      }

      async function tryFullscreen(){
        try{
          const el = document.documentElement;
          if (el.requestFullscreen) await el.requestFullscreen();
          statusNote.textContent = "Fullscreen requested.";
        } catch(e){
          statusNote.textContent = "Fullscreen not available.";
        }
      }

      enterBtn.addEventListener('click', async () => {
        await tryFullscreen();
        await tryLock();
      });

      lockBtn.addEventListener('click', async () => {
        await tryLock();
      });

      overlayTryLock.addEventListener('click', async () => {
        await tryLock();
      });

      overlayDismiss.addEventListener('click', () => {
        overlay.classList.remove('show');
      });

      window.addEventListener('resize', updateOverlay, { passive:true });
      window.addEventListener('orientationchange', updateOverlay, { passive:true });

      // Initial state
      updateOverlay();

      // If agent-id is still placeholder, make it obvious but non-blocking
      window.addEventListener('DOMContentLoaded', () => {
        const widget = document.querySelector('elevenlabs-convai');
        if (widget){
          const agentId = widget.getAttribute('agent-id') || "";
          if (agentId === "YOUR_AGENT_ID"){
            statusNote.textContent = "Paste your real agent-id to enable talk mode.";
          }
        }
      });
    })();
  </script>
</body>
</html>
